<script>
    // Particles effect
    function createParticle(container) {
        const particle = document.createElement('span');
        const size = Math.random() * 4 + 1 + 'px';
        particle.style.width = size;
        particle.style.height = size;
        particle.style.position = 'absolute';
        particle.style.borderRadius = '50%';
        particle.style.background = 'var(--accent)';
        particle.style.top = Math.random() * 100 + '%';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.opacity = Math.random();
        particle.style.animation = `float ${Math.random() * 10 + 5}s ease-in-out infinite`;
        container.appendChild(particle);
    }

    document.addEventListener('DOMContentLoaded', function () {
        const container = document.querySelector('body');
        const particlesDiv = document.createElement('div');
        particlesDiv.className = 'particles';
        container.appendChild(particlesDiv);

        for (let i = 0; i < 50; i++) {
            createParticle(particlesDiv);
        }

        // Animate week cards in sequence
        const weekCards = document.querySelectorAll('.week-card');
        weekCards.forEach((card, index) => {
            card.style.opacity = 0;
            card.style.transform = 'translateY(20px)';
            setTimeout(() => {
                card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                card.style.opacity = 1;
                card.style.transform = 'translateY(0)';
            }, index * 150);
        });

        // THEME SWITCH HANDLING
        const themeSwitch = document.getElementById('theme-switch');
        const themeLabel = document.querySelector('.theme-label');
        const currentTheme = localStorage.getItem('theme') || 'dark';
        document.documentElement.setAttribute('data-theme', currentTheme);
        themeLabel.textContent = currentTheme === 'light' ? 'Switch to Dark Mode' : 'Switch to Light Mode';

        themeSwitch.addEventListener('click', () => {
            const newTheme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            themeLabel.textContent = newTheme === 'light' ? 'Switch to Dark Mode' : 'Switch to Light Mode';
        });

        // "Click Me" button scroll (if needed)
        const clickMe = document.querySelector('.click-me');
        const content = document.getElementById('content');
        clickMe.addEventListener('click', (e) => {
            e.preventDefault();
            content.style.display = 'block';
            content.scrollIntoView({ behavior: 'smooth' });
        });
    });
</script>
